<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.furnature.mapper.ManageMapper">
	
	<!--상품등록-->
	<insert id="enrollProduct" parameterType="hashmap" useGeneratedKeys="true" keyProperty="productNo" keyColumn="PRODUCT_NO">
		INSERT INTO TBL_PRODUCT(
			PRODUCT_NO,
			PRODUCT_NAME,
			PRODUCT_WIDTH,
			PRODUCT_LENGTH,
			PRODUCT_HEIGHT,
			PRODUCT_PRICE,
			PRODUCT_COLOR,
			PRODUCT_SIZE1,
			PRODUCT_SIZE2,
			PRODUCT_SIZE3,
			PRODUCT_CUSTOM,
			PRODUCT_CATE1,
			PRODUCT_CATE2,
			PRODUCT_CDATETIME,
			PRODUCT_UDATETIME)
			VALUES(PRODUCT_NO_SEQ.NEXTVAL,#{productName},#{productWidth},#{productLength},#{productHeight},#{productPrice},
			#{productColor},#{productSize1},#{productSize2},#{productSize3},#{productCustom},#{productCate1},#{productCate2},
			SYSDATE,SYSDATE)
	</insert>
	
	<!--상품 썸네일,상품설명 첨부파일 등록-->
	<insert id="attachProduct" parameterType="hashmap">
		INSERT INTO
		TBL_PRODUCT_IMG
		VALUES(#{productNo},#{productThumbnail},#{productDetail1})
	</insert>
	<!--상품삭제-->
	<delete id="productDelete" parameterType="hashmap">
		DELETE
		FROM TBL_PRODUCT
		WHERE PRODUCT_NO = #{productNo}
	</delete>
	<!--첨부파일삭제-->
	<delete id="productAttachDelete" parameterType="hashmap">
		DELETE
		FROM TBL_PRODUCT_IMG
		WHERE PRODUCT_NO = #{productNo}
	</delete>
	
	<select id="productUpdateList" parameterType="hashmap" resultType="com.example.furnature.model.Manage">
		SELECT *
		FROM TBL_PRODUCT P
		WHERE PRODUCT_NO = #{productNo}
	</select>
	<update id="productUpdate" parameterType="hashmap">
		UPDATE TBL_PRODUCT
		SET
		PRODUCT_NAME = #{productName},
		PRODUCT_WIDTH = #{productWidth},
		PRODUCT_LENGTH = #{productLength},
		PRODUCT_HEIGHT = #{productHeight},
		PRODUCT_PRICE = #{productPrice},
		PRODUCT_COLOR = #{productColor},
		PRODUCT_SIZE1 = #{productSize1},
		PRODUCT_SIZE2 = #{productSize2},
		PRODUCT_SIZE3 = #{productSize3},
		PRODUCT_CUSTOM = #{productCustom},
		PRODUCT_CATE1 = #{productCate1},
		PRODUCT_CATE2 = #{productCate2},
		PRODUCT_UDATETIME = SYSDATE
		WHERE PRODUCT_NO = #{productNo}
	</update>
</mapper>
